## 目标
- 提升心率、步数、体重、饮水四类数据的可读性与交互体验。
- 保持与现有 Compose + MPAndroidChart 技术栈一致，统一样式与状态管理。

## 页面结构改造
- 顶部概览区（Summary Header）
  - 四个卡片：心率（当前/静息）、步数（当日/目标进度）、体重（最新值/变化）、饮水（当日总量/目标进度）。
  - 增加时间范围选择器（7/14/30 天），影响下方图表与汇总。
- 筛选与标签区（Filters/Tabs）
  - 使用可滚动的 Chip/Segmented 控件替换按钮行，避免拥挤；支持横向滑动。
  - 标签顺序：心率、步数、体重、饮水；保留睡眠/情绪为次级标签（可折叠至“更多”）。
- 图表区（Charts）
  - 每个标签对应一个图表卡片，提供空数据占位、加载骨架、错误提示。
  - 在卡片顶部显示小型摘要（最大/最小/平均/总量）。

## 视觉与交互细节
- 主题与配色
  - 心率：红（强调线色）、步数：橙、体重：靛紫、饮水：蓝；轴/文字统一灰色。
- 图表优化（MPAndroidChart）
  - 心率折线：平滑折线、淡色填充、关闭点值、X 轴时间标签（HH:mm 或 MM-dd）、Y 轴网格细线。
  - 步数柱状：自适应柱宽、X 轴日期标签旋转 -30°、显示总和摘要。
  - 体重折线：显示趋势箭头与近期变化（Δkg），提供单点高亮。
  - 饮水柱状：每日总量，支持目标线（如 2000ml）叠加。
- 交互
  - 点击卡片跳转到对应标签，点击图表某点显示 tooltip（当天/时间/值）。
  - 时间范围切换触发重新拉取或本地过滤；保留轻量动画（animateX/Y 300ms）。
- 空/错/载状态
  - 空：显示提示与引导导入按钮。
  - 错：统一 InfoBar 显示文案与重试按钮。
  - 载：骨架占位（浅灰卡片与占位条）。

## 数据与格式
- 时间格式
  - 心率：小时分钟；步数/体重/饮水：日期（MM-dd）。
- 汇总计算
  - 步数/饮水：时间范围内总量与日平均；体重：起讫变化与日均变化；心率：平均与峰值。
- 目标进度
  - 步数 10000/日、饮水 2000ml/日，可从用户偏好配置；卡片展示进度条。

## 组件与代码改动
- `DataScreen.kt`
  - 替换标签为可滚动 Chip 行；加入时间范围选择器；在卡片中增加摘要与加载/空/错三态；优化四类图表样式（心率/步数/体重/饮水）。
- `MetricsViewModel.kt`
  - 增加时间范围状态（7/14/30）与派生的汇总计算（四类）。
  - 拉取后在本地进行范围过滤与统计；可选接入 Edge Function 聚合提升性能。
- `MetricsRepository.kt`
  - 保持 API，不改动；如需范围过滤在 VM 层完成。
- 样式常量
  - 新增颜色/尺寸/动画常量，统一四类图表的外观。

## 验证与性能
- 验证路径
  - 切换时间范围与标签，四类图表与摘要一致更新。
  - 空数据时显示导入入口；错误时支持重试。
- 性能
  - 使用 `remember` 与 `derivedStateOf` 缓存汇总；图表更新最小化重组。

## 交付物
- 改造后的 `DataScreen.kt`（结构、Chip、摘要、图表样式）。
- `MetricsViewModel.kt`（时间范围状态与四类汇总字段）。
- 主题常量与工具方法（颜色、日期格式、进度计算）。

请确认以上计划，我将开始实施并提交具体代码改动。